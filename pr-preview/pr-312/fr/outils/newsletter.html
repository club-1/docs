
	<!DOCTYPE html>
<html class="writer-html5" lang="fr" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Newsletter &mdash; Documentation CLUB1</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=fd3f3429" />
      <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../_static/club1.css?v=ed24dd7a" />

  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="canonical" href="https://club1.fr/docs/fr/outils/newsletter.html" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=0734fd39"></script>
        <script src="../_static/doctools.js?v=9a2dae69"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../_static/copybutton.js?v=f281be69"></script>
        <script src="../_static/translations.js?v=041d0952"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Recherche" href="../search.html" />
    <link rel="next" title="Annuaire LDAP" href="ldap.html" />
    <link rel="prev" title="Gestion des alias email" href="aliases.html" />

	
	<link rel="alternate" hreflang="fr" href="https://club1.fr/docs/fr/outils/newsletter.html" />
	
	<link rel="alternate" hreflang="en" href="https://club1.fr/docs/en/outils/newsletter.html" />
	

</head>

<body class="wy-body-for-nav">
<style>
.club1header a:hover {
  text-decoration: underline;
}
.club1header a {
  text-decoration: none;
  margin: 5px;
}
</style>

<div class="club1header">
  <div style="z-index: 1000; position: absolute; top:0; left:0; height: 30px;width: 100%;text-align: left;background: #185075; color: white; font-family: monospace; font-size: 15px;line-height: 30px;">
    <a href="https://club1.fr/le-club/" style="color: white;">site web</a>
    <a href="https://forum.club1.fr" style="color: white;">forum</a>
    <a href="https://club1.fr/docs/fr/" style="color: white; text-decoration: underline;">documentation</a>
  </div>
  <div style="height: 30px;"></div>
</div>

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html">
            
              <img src="../_static/club1logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Rechercher docs" aria-label="Rechercher docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../info/index.html">1. Informations sur le serveur</a></li>
<li class="toctree-l1"><a class="reference internal" href="../services-membres.html">2. Services réservés aux membres</a></li>
<li class="toctree-l1"><a class="reference internal" href="../services-ouverts.html">3. Services ouverts à tous</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutos/index.html">4. Tutoriels</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">5. Outils</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="site.html">Site Web de CLUB1</a></li>
<li class="toctree-l2"><a class="reference internal" href="meta-doc.html">Meta-documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="forum.html">Forum de discussion</a></li>
<li class="toctree-l2"><a class="reference internal" href="aliases.html">Gestion des alias email</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Newsletter</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#abonnement">Abonnement</a></li>
<li class="toctree-l3"><a class="reference internal" href="#envoyer-une-newsletter">Envoyer une newsletter</a></li>
<li class="toctree-l3"><a class="reference internal" href="#gestion">Gestion</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#gestion-manuelle-des-inscriptions">Gestion manuelle des inscriptions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#creation-de-signatures">Création de signatures</a></li>
<li class="toctree-l4"><a class="reference internal" href="#configuration-des-alias">Configuration des alias</a></li>
<li class="toctree-l4"><a class="reference internal" href="#logiciel-utilise">Logiciel utilisé</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="ldap.html">Annuaire LDAP</a></li>
<li class="toctree-l2"><a class="reference internal" href="dns.html">Serveur DNS</a></li>
<li class="toctree-l2"><a class="reference internal" href="sauvegardes.html">Sauvegardes avec Borg</a></li>
<li class="toctree-l2"><a class="reference internal" href="dashboard.html">Tableau de bord</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">6. Foire aux questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossaire.html">7. Glossaire</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Annexes</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../citation.html">Citer ce document</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Indexes et tables</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../genindex.html">Index</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">CLUB1</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html"><span class="section-number">5. </span>Outils</a></li>
      <li class="breadcrumb-item active">Newsletter</li>
    
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/club-1/docs/blob/main/outils/newsletter.md" class="fa fa-github"> Éditer sur GitHub</a>
      </li>

  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="newsletter">
<h1>Newsletter<a class="headerlink" href="#newsletter" title="Lien vers cette rubrique">#</a></h1>
<p>La newsletter est l’outil principal de communication externe de CLUB1.
Elle permet d’informer des réunions, ateliers, ou partager les nouveaux articles du journal de bord.</p>
<p>Elle utilise l’adresse <code class="docutils literal notranslate"><span class="pre">nouvelles&#64;club1.fr</span></code> comme adresse d’envoi.</p>
<p>Une <a class="reference external" href="https://club1.fr/newsletters">archive des newsletter</a> est disponible sur le site <abbr title="L’un des services les plus connus d’[Internet]. Son nom complet est «
World Wide Web » (aussi abrégé « www »). Il permet de publier des
documents et de les relier entre eux à l’aide de liens hypertexte.

Une « page Web » est généralement constituée d’un document dont le
contenu est rédigé en [HTML] et peut inclure d’autre ressources comme
des images ou des « feuilles de style ». On appelle « Navigateur Web »
le [client] utilisé pour y accéder."><a class="reference internal" href="../glossaire.html#term-Web"><span class="xref std std-term">Web</span></a></abbr> du club.</p>
<section id="abonnement">
<h2>Abonnement<a class="headerlink" href="#abonnement" title="Lien vers cette rubrique">#</a></h2>
<p>L’inscription et la désinscription se font <strong>uniquement par email</strong> de manière interactive,
<a class="reference internal" href="#gestion-manuelle-des-inscriptions">ou manuellement</a>.
Pour cela, il faut contacter une des adresses suivante depuis l’adresse email que l’on souhaite inscrire ou désinscrire.</p>
<ul class="simple">
<li><p>Inscription : <a class="reference external" href="mailto:nouvelles-subscribe&#37;&#52;&#48;club1&#46;fr">nouvelles-subscribe<span>&#64;</span>club1<span>&#46;</span>fr</a></p></li>
<li><p>Désinscription : <a class="reference external" href="mailto:nouvelles-unsubscribe&#37;&#52;&#48;club1&#46;fr">nouvelles-unsubscribe<span>&#64;</span>club1<span>&#46;</span>fr</a></p></li>
</ul>
<p>Lors de l’inscription,
un email de confirmation est envoyé et nécessite d’y répondre pour terminer l’inscription.</p>
</section>
<section id="envoyer-une-newsletter">
<h2>Envoyer une newsletter<a class="headerlink" href="#envoyer-une-newsletter" title="Lien vers cette rubrique">#</a></h2>
<p>Pour pouvoir envoyer une newsletter, il faut être membre du <abbr title="Dans un système [POSIX], les groupes servent à rassembler des
utilisateurs afin de leur attribuer des droits communs. Un utilisateur
appartient à un ou plusieurs groupes.

Astuce:

  Il est possible de savoir qui est membre d’un groupe sur le serveur
  depuis un accès [SSH] avec la commande suivante :

     members GROUP

  En remplaçant &quot;GROUP&quot; par le groupe voulu. Exemple : &quot;members sudo&quot;
  ou &quot;members home&quot;."><a class="reference internal" href="../glossaire.html#term-groupe"><span class="xref std std-term">groupe</span></a></abbr> <code class="docutils literal notranslate"><span class="pre">mail</span></code>.</p>
<p>Envoyer une newsletter nécessite d’être connecté en <abbr title="(Secure SHell) Protocole permettant de se connecter à distance en
[CLI] à un serveur. Ses principaux avantages sont d’être entièrement
chiffré et d’offrir un accès complet aux fonctionnalités du serveur.
Il existe des extensions SSH pour des usages plus spécifiques comme
[SFTP] ou [SCP]."><a class="reference internal" href="../services/ssh.html#term-SSH"><span class="xref std std-term">SSH</span></a></abbr> via un <abbr title="En informatique, un terminal était à l’origine un appareil constitué
d’un moniteur et d’un clavier, permettant à un·e humain·e d’interagir
avec un ordinateur partagé distant. Il offrait une interface
textuelle, permettant d’entrer des commandes et d’en lire le résultat.

De nos jours, on utilise souvent le mot « terminal » comme raccourci
pour désigner un « émulateur de terminal ». Il s’agit d’un logiciel
recréant l’interface en ligne de commande ([CLI]) de ce materiel."><a class="reference internal" href="../glossaire.html#term-terminal"><span class="xref std std-term">terminal</span></a></abbr>.</p>
<p>Le contenu à envoyer doit préalablement être stocké dans un fichier sur le serveur.
Il faut ensuite lancer la commande suivante :</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>newsletter FICHIER NUMERO
</pre></div>
</div>
<p>Par exemple, si notre texte est dans un fichier qui s’appelle <code class="docutils literal notranslate"><span class="pre">contenu.txt</span></code>
et qu’il s’agît de la 42ème newsletter, il faudrait lancer :</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>newsletter contenu.txt 42
</pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Astuce</p>
<p>Le programe se charge lui même de formater le titre et l’affichage correct du nombre.</p>
</div>
<p>La suite du programme est interactive et ne nécessite pas de connaissances particulières.</p>
</section>
<section id="gestion">
<h2>Gestion<a class="headerlink" href="#gestion" title="Lien vers cette rubrique">#</a></h2>
<p>Sur le serveur CLUB1, les fichiers de paramétrage se trouvent dans <code class="docutils literal notranslate"><span class="pre">/var/mail/newsletter</span></code> :</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">secret</span></code> Contient une phrase secrète servant à la confirmation des adresses lors de l’inscription.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">signatures</span></code> Contient une liste de phrases de signatures séparées par des retours à la ligne.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">emails</span></code> Contient la liste des emails séparés par des retours à la ligne.</p></li>
</ul>
<section id="gestion-manuelle-des-inscriptions">
<h3>Gestion manuelle des inscriptions<a class="headerlink" href="#gestion-manuelle-des-inscriptions" title="Lien vers cette rubrique">#</a></h3>
<p>Il est possible d’ajouter ou de retirer manuellement des adresses email de façon très simple.
En éditant le fichier <code class="docutils literal notranslate"><span class="pre">emails</span></code>, il suffit d’ajouter ou de supprimer des lignes.
L’édition de ce fichier est réservée aux membres du <abbr title="Dans un système [POSIX], les groupes servent à rassembler des
utilisateurs afin de leur attribuer des droits communs. Un utilisateur
appartient à un ou plusieurs groupes.

Astuce:

  Il est possible de savoir qui est membre d’un groupe sur le serveur
  depuis un accès [SSH] avec la commande suivante :

     members GROUP

  En remplaçant &quot;GROUP&quot; par le groupe voulu. Exemple : &quot;members sudo&quot;
  ou &quot;members home&quot;."><a class="reference internal" href="../glossaire.html#term-groupe"><span class="xref std std-term">groupe</span></a></abbr> <code class="docutils literal notranslate"><span class="pre">mail</span></code>.</p>
</section>
<section id="creation-de-signatures">
<h3>Création de signatures<a class="headerlink" href="#creation-de-signatures" title="Lien vers cette rubrique">#</a></h3>
<p>Lors de l’inscription ou de la désinscription à la newsletter,
une petite phrase est choisie aléatoirement dans le fichier <code class="docutils literal notranslate"><span class="pre">signatures</span></code> en guise de signature.
L’édition de ce fichier est également réservée aux membres du <abbr title="Dans un système [POSIX], les groupes servent à rassembler des
utilisateurs afin de leur attribuer des droits communs. Un utilisateur
appartient à un ou plusieurs groupes.

Astuce:

  Il est possible de savoir qui est membre d’un groupe sur le serveur
  depuis un accès [SSH] avec la commande suivante :

     members GROUP

  En remplaçant &quot;GROUP&quot; par le groupe voulu. Exemple : &quot;members sudo&quot;
  ou &quot;members home&quot;."><a class="reference internal" href="../glossaire.html#term-groupe"><span class="xref std std-term">groupe</span></a></abbr> <code class="docutils literal notranslate"><span class="pre">mail</span></code>.</p>
</section>
<section id="configuration-des-alias">
<h3>Configuration des alias<a class="headerlink" href="#configuration-des-alias" title="Lien vers cette rubrique">#</a></h3>
<p>L’envoi d’emails automatique pour la gestion des inscriptions tire fortement parti des <abbr title="Pseudonyme, nom de substitution. Les alias permettent de donner
plusieurs noms à la même entité. C’est un concept fréquemment utilisé
en informatique. On parle par exemple d’alias lorsqu’on fait pointer
plusieurs adresses email vers la même boîte de reception, ou lorsqu’on
définit un nouveau nom pour une commande."><a class="reference internal" href="../glossaire.html#term-alias"><span class="xref std std-term">alias</span></a></abbr> de réception.</p>
<div class="admonition seealso">
<p class="admonition-title">Voir aussi</p>
<p>Pour l’édition des alias email,
voir la section <a class="reference internal" href="aliases.html#modifier-les-alias-de-reception"><span class="std std-ref">Modifier les alias de réception</span></a>.</p>
</div>
<p>Pour chacune des trois adresses d’interface utilisateurs, il faut indiquer l’emplacement du script de réception,
le dossier contenant les fichiers de paramétrage et le préfixe de l’adresse email utilisée pour ces échanges.</p>
<div class="highlight-makefile notranslate"><div class="highlight"><pre><span></span><span class="nf">nouvelles-ACTION</span><span class="o">:</span><span class="w">      </span><span class="p">|</span> &quot;<span class="n">SCRIPT</span> <span class="n">ACTION</span> <span class="n">DOSSIER_CONFIG</span> <span class="n">PREFIX</span>&quot;
</pre></div>
</div>
<p>Exemple de configuration avec les fichiers se trouvant dans <code class="docutils literal notranslate"><span class="pre">var/mail/newsletter</span></code>
et en utilisant <code class="docutils literal notranslate"><span class="pre">nouvelles</span></code> comme préfixe.</p>
<div class="highlight-makefile notranslate"><div class="highlight"><pre><span></span><span class="nf">nouvelles-subscribe</span><span class="o">:</span><span class="w">   </span><span class="p">|</span> &quot;/<span class="n">usr</span>/<span class="n">local</span>/<span class="n">sbin</span>/<span class="n">nl</span>.<span class="n">sh</span> <span class="n">subscribe</span> /<span class="n">var</span>/<span class="n">mail</span>/<span class="n">newsletter</span> <span class="n">nouvelles</span>&quot;
<span class="nf">nouvelles-confirm</span><span class="o">:</span><span class="w">     </span><span class="p">|</span> &quot;/<span class="n">usr</span>/<span class="n">local</span>/<span class="n">sbin</span>/<span class="n">nl</span>.<span class="n">sh</span> <span class="n">confirm</span> /<span class="n">var</span>/<span class="n">mail</span>/<span class="n">newsletter</span> <span class="n">nouvelles</span>&quot;
<span class="nf">nouvelles-unsubscribe</span><span class="o">:</span><span class="w"> </span><span class="p">|</span> &quot;/<span class="n">usr</span>/<span class="n">local</span>/<span class="n">sbin</span>/<span class="n">nl</span>.<span class="n">sh</span> <span class="n">unsubscribe</span> /<span class="n">var</span>/<span class="n">mail</span>/<span class="n">newsletter</span> <span class="n">nouvelles</span>&quot;
</pre></div>
</div>
</section>
<section id="logiciel-utilise">
<h3>Logiciel utilisé<a class="headerlink" href="#logiciel-utilise" title="Lien vers cette rubrique">#</a></h3>
<p>Le choix de l’outil de newsletter a été un sujet compliqué,
comme en atteste <a class="reference external" href="https://forum.club1.fr/d/69">cette discussion sur le forum</a>.
Finalement, il a été décidé de coder nos propres <abbr title="Ensemble de scripts très légers de gestion de newsletter développé par
et pour CLUB1. Pour l’instant il ne fonctionne que pour la newsletter
officielle de CLUB1."><a class="reference internal" href="#logiciel-newsletter"><span class="xref std std-logiciel">scripts de newsletter</span></a></abbr>.</p>
<dl class="std logiciel">
<dt class="sig sig-object std" id="logiciel-newsletter">
<span class="sig-name descname"><span class="pre">newsletter</span></span><a class="headerlink" href="#logiciel-newsletter" title="Lien vers cette définition">#</a></dt>
<dd><p>Ensemble de scripts très légers de gestion de newsletter développé par et pour CLUB1.
Pour l’instant il ne fonctionne que pour la newsletter officielle de CLUB1.
— <a class="reference external" href="https://github.com/club-1/newsletter">Sources</a></p>
</dd></dl>

</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Pied de page">
        <a href="aliases.html" class="btn btn-neutral float-left" title="Gestion des alias email" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Précédent</a>
        <a href="ldap.html" class="btn btn-neutral float-right" title="Annuaire LDAP" accesskey="n" rel="next">Suivant <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Droits d'auteur 2022-2024, Membres de CLUB1.</p>
  </div>

  Compilé avec <a href="https://www.sphinx-doc.org/">Sphinx</a> en utilisant un
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">thème</a>
    fourni par <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
	<span class="rst-current-version" data-toggle="rst-current-version">
		<span class="fa fa-book"> Versions</span>
		v: 2024-09-05-gbf82
		<span class="fa fa-caret-down"></span>
	</span>
	<div class="rst-other-versions">
		
		<dl>
			<dt>Langages</dt>
			
			<dd>
				 <strong> 
					<a href="../../fr/outils/newsletter.html">fr</a>
				 </strong> 
			</dd>
			
			<dd>
				
					<a href="../../en/outils/newsletter.html">en</a>
				
			</dd>
			
		</dl>
		
		
		
		<dl>
			<dt>Téléchargements</dt>
			
			<dd><a download href="../"></a></dd>
			
		</dl>
		
	</div>
</div>
<script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script> 

</body>
</html>